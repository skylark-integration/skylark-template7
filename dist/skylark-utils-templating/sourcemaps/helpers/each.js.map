{"version":3,"sources":["helpers/each.js"],"names":["define","types","templating","helpers","each","items","options","ret","i","isFunction","call","this","isArray","hash","reverse","length","templater","fn","first","last","index","key","inverse"],"mappings":";;;;;;;AAAAA,QACC,sBACA,iBACC,SAASC,EAAMC,GAEhB,MAAOA,GAAWC,QAAQC,KAAQ,SAAUC,EAAOC,GAChD,GAAIC,GAAM,GAAIC,EAAI,CAIlB,IAHIP,EAAMQ,WAAWJ,KACnBA,EAAQA,EAAMK,KAAKC,OAEjBV,EAAMW,QAAQP,GAAQ,CAIxB,IAHIC,EAAQO,KAAKC,UACfT,EAAQA,EAAMS,WAEXN,EAAI,EAAGA,EAAIH,EAAMU,OAAQP,IAC5BH,EAAMG,GAAGQ,UAAYL,KAAKK,UAC1BT,GAAOD,EAAQW,GAAGZ,EAAMG,IACtBU,MAAa,IAANV,EACPW,KAAMX,IAAMH,EAAMU,OAAS,EAC3BK,MAAOZ,GAGPF,GAAQO,KAAKC,UACfT,EAAQA,EAAMS,eAGhB,KAAK,GAAIO,KAAOhB,GACdG,IACAH,EAAMgB,GAAKL,UAAYL,KAAKK,UAC5BT,GAAOD,EAAQW,GAAGZ,EAAMgB,IAAOA,IAAKA,GAGxC,OAAIb,GAAI,EACCD,EAEAD,EAAQgB,QAAQX","file":"../../helpers/each.js","sourcesContent":["define([\r\n\t\"skylark-langx/types\",\r\n\t\"../templating\"\r\n],function(types,templating){\r\n\r\n\treturn templating.helpers.each =  function (items, options) {\r\n    var ret = '', i = 0;\r\n    if (types.isFunction(items)) { \r\n      items = items.call(this); \r\n    }\r\n    if (types.isArray(items)) {\r\n      if (options.hash.reverse) {\r\n        items = items.reverse();\r\n      }\r\n      for (i = 0; i < items.length; i++) {\r\n        items[i].templater = this.templater;\r\n        ret += options.fn(items[i], {\r\n          first: i === 0, \r\n          last: i === items.length - 1, \r\n          index: i\r\n        });\r\n      }\r\n      if (options.hash.reverse) {\r\n        items = items.reverse();\r\n      }\r\n    } else {\r\n      for (var key in items) {\r\n        i++;\r\n        items[key].templater = this.templater;\r\n        ret += options.fn(items[key], {key: key});\r\n      }\r\n    }\r\n    if (i > 0) {\r\n      return ret;\r\n    } else {\r\n      return options.inverse(this);\r\n    }\r\n  };\r\n});"]}